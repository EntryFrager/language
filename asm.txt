push 0
pop rbx
call main
hlt
main:
		in
		pop [rbx + 1]
		push 1
		pop [rbx + 2]
		push [rbx + 1]
		push 0
		jb if_2
		push [rbx + 1]
		push 0
		jne if_1
	if_2:
		push [rbx + 2]
		out
		jmp end_if_0
	if_1:
		push [rbx + 1]
		push 1
		jne if_3
		push [rbx + 1]
		out
		jmp end_if_0
	if_3:
		push [rbx + 1]
		pop [rbx + 5]
		push rbx
		push rbx
		push 4
		add
		pop rbx
		call fact
		pop rbx
		push rax
		pop [rbx + 3]
		push [rbx + 3]
		out
	end_if_0:
		ret
fact:
		push [rbx + 1]
		push 1
		jne if_5
		push [rbx + 1]
		pop rax
		ret
		jmp end_if_4
	if_5:
	end_if_4:
		push [rbx + 1]
		push 1
		sub
		pop [rbx + 5]
		push [rbx + 1]
		push [rbx + 5]
		pop [rbx + 4]
		push rbx
		push rbx
		push 3
		add
		pop rbx
		call fact
		pop rbx
		push rax
		mul
		pop [rbx + 1]
		push [rbx + 1]
		pop rax
		ret
hlt
